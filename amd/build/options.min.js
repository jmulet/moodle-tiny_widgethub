define("tiny_widgethub/options",["exports","editor_tiny/options","./common","./util"],(function(_exports,_options,_common,_util){var obj;
/**
   * Tiny WidgetHub plugin.
   *
   * @module      tiny_widgethub/plugin
   * @copyright   2024 Josep Mulet Pol <pep.mulet@gmail.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.register=_exports.isPluginVisible=_exports.EditorOptions=void 0;const pluginName=(_common=(obj=_common)&&obj.__esModule?obj:{default:obj}).default.pluginName,showPlugin=(0,_options.getPluginOptionName)(pluginName,"showplugin"),userId=(0,_options.getPluginOptionName)(pluginName,"userid"),courseId=(0,_options.getPluginOptionName)(pluginName,"courseid"),widgetList=(0,_options.getPluginOptionName)(pluginName,"widgetlist"),shareStyles=(0,_options.getPluginOptionName)(pluginName,"sharestyles"),additionalCss=(0,_options.getPluginOptionName)(pluginName,"additionalcss");_exports.register=editor=>{const registerOption=editor.options.register;registerOption(showPlugin,{processor:"boolean",default:!0}),registerOption(userId,{processor:"string",default:"-1"}),registerOption(courseId,{processor:"string",default:"-1"}),registerOption(widgetList,{processor:"array",default:[]}),registerOption(shareStyles,{processor:"boolean",default:!0}),registerOption(additionalCss,{processor:"string",default:""})};_exports.isPluginVisible=editor=>editor.options.get(showPlugin);_exports.EditorOptions=class{_widgetDict;constructor(editor){this.editor=editor}get pluginVisible(){return this.editor.options.get(showPlugin)}get userId(){return parseInt(this.editor.options.get(userId))}get courseId(){return parseInt(this.editor.options.get(courseId))}get additionalCss(){return this.editor.options.get(additionalCss)}get widgetDict(){if(!this._widgetDict){this._widgetDict={};let widgets=this.editor.options.get(widgetList),partials=widgets.filter((e=>"partials"===e.key))[0];partials&&(widgets=widgets.filter((e=>"partials"!==e.key)));widgets.map((w=>new _util.WidgetWrapper(w,partials||{}))).filter((w=>w.isFor(this.userId))).forEach((w=>{this._widgetDict&&(this._widgetDict[w.key]=w)}))}return this._widgetDict}}}));

//# sourceMappingURL=options.min.js.map