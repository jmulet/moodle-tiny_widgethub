define("tiny_widgethub/extension/contextactions",["exports","./dependencies","jquery"],(function(_exports,_dependencies,_jquery){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.addImageEffectAction=function(ctx,type){return()=>{var _ctx$path;const elem=null===(_ctx$path=ctx.path)||void 0===_ctx$path?void 0:_ctx$path.elem;elem&&(elem.attr("data-snptd",type),(0,_dependencies.addRequires)(ctx.editor,["/sd/images.min.js"]))}},_exports.changeBoxLangAction=function(ctx,iso){return()=>{var _ctx$path3,_ctx$path4,_I18n$langKey;const elem=null===(_ctx$path3=ctx.path)||void 0===_ctx$path3?void 0:_ctx$path3.elem,widget=null===(_ctx$path4=ctx.path)||void 0===_ctx$path4?void 0:_ctx$path4.widget;if(!elem||!widget)return;const $lateral=elem.find(".iedib-titolLateral"),isTascaExercici=void 0!==elem.attr("data-proposat")||elem.find(".iedib-tasca.iedib-central").length>0;let theType,langKey="msg";isTascaExercici?langKey=elem.find(".iedib-tasca.iedib-proposat").length?"msg_epr":"msg_"+(elem.attr("data-proposat")??"tapr"):"capsa-generica"===widget.key&&(["alerta","ampliacio","consell","important","introduccio"].forEach((ty=>{elem.hasClass("iedib-"+ty+"-border")&&(theType=ty)})),langKey="msg_"+theType),console.log("Changing language",langKey,iso);const I18n=widget.I18n;if(null!=I18n&&null!==(_I18n$langKey=I18n[langKey])&&void 0!==_I18n$langKey&&_I18n$langKey[iso])if(isTascaExercici){elem.find(".iedib-central h4").first().html(I18n[langKey][iso]+":")}else $lateral.html(I18n[langKey][iso]),$lateral.append('<span class="iedib-'+theType+'-logo"></span>');elem.attr("data-lang",iso)}},_exports.changeBoxSeverityAction=function(ctx,severity){return()=>{var _ctx$path7,_ctx$path8,_widget$I18n,_widget$I18n$langKey;const elem=null===(_ctx$path7=ctx.path)||void 0===_ctx$path7?void 0:_ctx$path7.elem,widget=null===(_ctx$path8=ctx.path)||void 0===_ctx$path8?void 0:_ctx$path8.widget;if(!elem||!widget)return;elem.removeClass("iedib-alerta-border iedib-important-border iedib-consell-border iedib-introduccio-border iedib-ampliacio-border"),elem.addClass("iedib-"+severity+"-border");const $lateral=elem.find(".iedib-lateral");$lateral.removeClass("iedib-alerta iedib-important iedib-consell iedib-introduccio iedib-ampliacio"),$lateral.addClass("iedib-"+severity);const lang=elem.attr("data-lang")||"ca";let langKey="msg_"+severity;null!==(_widget$I18n=widget.I18n)&&void 0!==_widget$I18n&&null!==(_widget$I18n$langKey=_widget$I18n[langKey])&&void 0!==_widget$I18n$langKey&&_widget$I18n$langKey[lang]&&$lateral.find(".iedib-titolLateral").html(widget.I18n[langKey][lang])}},_exports.changeBoxSizeAction=function(ctx,size){return()=>{var _ctx$path5,_ctx$path6;const elem=null===(_ctx$path5=ctx.path)||void 0===_ctx$path5?void 0:_ctx$path5.elem,widget=null===(_ctx$path6=ctx.path)||void 0===_ctx$path6?void 0:_ctx$path6.widget;elem&&widget&&(elem.removeClass("iedib-capsa-petita iedib-capsa-mitjana iedib-capsa-gran"),elem.addClass("iedib-capsa-"+size))}},_exports.changeColumnWidth=function(ctx,colSpan){return()=>{var _ctx$path13;const $target=null===(_ctx$path13=ctx.path)||void 0===_ctx$path13?void 0:_ctx$path13.elem;if($target)if(colSpan<=0||colSpan>12){const columns=$target.find("div");columns.removeClass(),$target.replaceWith(columns)}else{const first=$target.find("div:first-child"),last=$target.find("div:last-child");first.removeClass(),last.removeClass(),first.addClass("span"+colSpan),last.addClass("span"+(12-colSpan))}}},_exports.imageSwitchToSnippetAction=function(ctx){return()=>{var _ctx$path12;console.log("imageSwitchToSnippetAction");const $target=null===(_ctx$path12=ctx.path)||void 0===_ctx$path12?void 0:_ctx$path12.targetElement;if(!$target)return;const $snpt=(0,_jquery.default)('<div class="iedib-figura iedib-grid-responsive"></div');$snpt.append($target.clone()),$snpt.append((0,_jquery.default)('<p class="iedib-img-footer"><span class="iedib-caption-counter">Imatge:</span> <span class="iedib-caption-title">Descripció</span></p>')),$target.replaceWith($snpt)}},_exports.removeImageEffectsAction=function(ctx){return()=>{var _ctx$path2;const elem=null===(_ctx$path2=ctx.path)||void 0===_ctx$path2?void 0:_ctx$path2.elem;elem&&(elem.removeAttr("data-snptd"),(0,_dependencies.cleanUnusedRequires)(ctx.editor))}},_exports.setAccordionBehavior=function(ctx,isDependentBehavior){return()=>{var _ctx$path14;const $target=null===(_ctx$path14=ctx.path)||void 0===_ctx$path14?void 0:_ctx$path14.elem;if($target)if(isDependentBehavior)$target.find("div.accordion-body").removeAttr("data-parent");else{const acid=$target.attr("id");$target.find("div.accordion-body").attr("data-parent","#"+acid)}}},_exports.switchBoxRowsExampleAction=function(ctx){return()=>{var _ctx$path11;const $target=null===(_ctx$path11=ctx.path)||void 0===_ctx$path11?void 0:_ctx$path11.elem;if(!$target)return;const lang=$target.attr("data-lang")||"ca",lateral=$target.find("p.iedib-titolLateral").html(),formulacio=$target.find("div.span4.iedib-formulacio > *"),resolucio=$target.find("div.span8.iedib-resolucio > div.iedib-central > *"),newSnpt=(0,_jquery.default)('<div class="iedib-capsa iedib-capsa-gran iedib-exemple-border" data-lang="'+lang+'"><div class="iedib-lateral iedib-exemple"><p class="iedib-titolLateral">'+lateral+'</p></div><div class="iedib-formulacio-rows"></div><div class="iedib-resolucio-rows"></div></div>');newSnpt.find("div.iedib-formulacio-rows").append(formulacio),newSnpt.find("div.iedib-resolucio-rows").append(resolucio),$target.replaceWith(newSnpt)}},_exports.switchBoxSimpleExampleAction=function(ctx){return()=>{var _ctx$path9,_ctx$path10,_widget$I18n2,_widget$I18n2$sol;const $target=null===(_ctx$path9=ctx.path)||void 0===_ctx$path9?void 0:_ctx$path9.elem,widget=null===(_ctx$path10=ctx.path)||void 0===_ctx$path10?void 0:_ctx$path10.widget;if(!$target||!widget)return;const lang=$target.attr("data-lang")||"ca",solLabel=(null===(_widget$I18n2=widget.I18n)||void 0===_widget$I18n2||null===(_widget$I18n2$sol=_widget$I18n2.sol)||void 0===_widget$I18n2$sol?void 0:_widget$I18n2$sol[lang])??"Solució",formulacio=$target.find("div.iedib-formulacio-rows > *").clone(),resolucio=$target.find("div.iedib-resolucio-rows >  *").clone(),lateral=$target.find("p.iedib-titolLateral").html(),newSnpt=(0,_jquery.default)('<div class="iedib-capsa iedib-capsa-gran iedib-exemple-border" data-lang="'+lang+'"><div class="iedib-lateral iedib-exemple"><p class="iedib-titolLateral">'+lateral+'</span></p></div><div class="iedib-central"><br></div></div>'),central=newSnpt.find("div.iedib-central");central.append(formulacio),0===resolucio.find("div.accordion").length&&central.append("<p><b>"+solLabel+"</b>:</p>"),central.append(resolucio),$target.replaceWith(newSnpt)}},_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj}}));

//# sourceMappingURL=contextactions.min.js.map