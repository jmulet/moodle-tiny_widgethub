define("tiny_widgethub/extension/contextactions",["exports","./dependencies","jquery"],(function(_exports,_dependencies,_jquery){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.addImageEffectAction=function(){const ctx=this.ctx,type=this.type;return()=>{var _ctx$path;const elem=null===(_ctx$path=ctx.path)||void 0===_ctx$path?void 0:_ctx$path.elem;elem&&(elem.attr("data-snptd",type),(0,_dependencies.addRequires)(ctx.editor,["/sd/images.min.js"]))}},_exports.changeBoxLangAction=function(){var _this$ctx$path,_this$ctx$path2,_I18n$langKey;const iso=this.iso,elem=null===(_this$ctx$path=this.ctx.path)||void 0===_this$ctx$path?void 0:_this$ctx$path.elem,widget=null===(_this$ctx$path2=this.ctx.path)||void 0===_this$ctx$path2?void 0:_this$ctx$path2.widget;if(!elem||!widget)return;const $lateral=elem.find(".iedib-titolLateral"),isTascaExercici=void 0!==elem.attr("data-proposat")||elem.find(".iedib-tasca.iedib-central").length>0;let theType,langKey="msg";isTascaExercici?langKey=elem.find(".iedib-tasca.iedib-proposat").length?"msg_epr":"msg_"+(elem.attr("data-proposat")??"tapr"):"capsa-generica"===widget.key&&(["alerta","ampliacio","consell","important","introduccio"].forEach((ty=>{elem.hasClass("iedib-"+ty+"-border")&&(theType=ty)})),langKey="msg_"+theType);const I18n=widget.I18n;if(null!=I18n&&null!==(_I18n$langKey=I18n[langKey])&&void 0!==_I18n$langKey&&_I18n$langKey[iso])if(isTascaExercici){elem.find(".iedib-central h4").first().html(I18n[langKey][iso]+":")}else $lateral.html(I18n[langKey][iso]),$lateral.append('<span class="iedib-'+theType+'-logo"></span>');elem.attr("data-lang",iso)},_exports.changeBoxSeverityAction=function(){var _this$ctx$path5,_this$ctx$path6,_widget$I18n,_widget$I18n$langKey;const severity=this.severity,elem=null===(_this$ctx$path5=this.ctx.path)||void 0===_this$ctx$path5?void 0:_this$ctx$path5.elem,widget=null===(_this$ctx$path6=this.ctx.path)||void 0===_this$ctx$path6?void 0:_this$ctx$path6.widget;if(!elem||!widget)return;elem.removeClass("iedib-alerta-border iedib-important-border iedib-consell-border iedib-introduccio-border iedib-ampliacio-border"),elem.addClass("iedib-"+severity+"-border");const $lateral=elem.find(".iedib-lateral");$lateral.removeClass("iedib-alerta iedib-important iedib-consell iedib-introduccio iedib-ampliacio"),$lateral.addClass("iedib-"+severity);const lang=elem.attr("data-lang")||"ca";let langKey="msg_"+severity;null!==(_widget$I18n=widget.I18n)&&void 0!==_widget$I18n&&null!==(_widget$I18n$langKey=_widget$I18n[langKey])&&void 0!==_widget$I18n$langKey&&_widget$I18n$langKey[lang]&&$lateral.find(".iedib-titolLateral").html(widget.I18n[langKey][lang])},_exports.changeBoxSizeAction=function(){var _this$ctx$path3,_this$ctx$path4;const elem=null===(_this$ctx$path3=this.ctx.path)||void 0===_this$ctx$path3?void 0:_this$ctx$path3.elem,widget=null===(_this$ctx$path4=this.ctx.path)||void 0===_this$ctx$path4?void 0:_this$ctx$path4.widget;if(!elem||!widget)return;elem.removeClass("iedib-capsa-petita iedib-capsa-mitjana iedib-capsa-gran"),elem.addClass("iedib-capsa-"+this.size)},_exports.changeColumnWidth=function(){var _this$ctx$path11;const colSpan=this.colSpan,$target=null===(_this$ctx$path11=this.ctx.path)||void 0===_this$ctx$path11?void 0:_this$ctx$path11.elem;if(!$target)return;if(colSpan<=0||colSpan>12){const columns=$target.find("div");columns.removeClass(),$target.replaceWith(columns)}else{const first=$target.find("div:first-child"),last=$target.find("div:last-child");first.removeClass(),last.removeClass(),first.addClass("span"+colSpan),last.addClass("span"+(12-colSpan))}},_exports.convert2BootstrapTable=function(){var _this$ctx$path13;const $target=null===(_this$ctx$path13=this.ctx.path)||void 0===_this$ctx$path13?void 0:_this$ctx$path13.elem;if(!$target)return;$target.removeClass("iedib-table").removeAttr("style").removeAttr("border").addClass("table table-striped iedib-bstable"),$target.find("td,th").removeAttr("style"),$target.find("thead > tr > th").attr("role","col")},_exports.convert2PrefefinedTable=function(){var _this$ctx$path14;const $target=null===(_this$ctx$path14=this.ctx.path)||void 0===_this$ctx$path14?void 0:_this$ctx$path14.elem;if(!$target)return;$target.removeClass("table table-bordered table-hover table-striped table-responsive iedib-bstable"),$target.addClass("iedib-table"),$target.attr("style","table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:96%;"),$target.find("td,th").css("border","1px solid gray")},_exports.imageSwitchToSnippetAction=function(){var _this$ctx$path10;const $target=null===(_this$ctx$path10=this.ctx.path)||void 0===_this$ctx$path10?void 0:_this$ctx$path10.targetElement;if(!$target)return;const $snpt=(0,_jquery.default)('<div class="iedib-figura iedib-grid-responsive"></div');$snpt.append($target.clone()),$snpt.append((0,_jquery.default)('<p class="iedib-img-footer"><span class="iedib-caption-counter">Imatge:</span> <span class="iedib-caption-title">Descripció</span></p>')),$target.replaceWith($snpt)},_exports.removeImageEffectsAction=function(){var _ctx$path2;const ctx=this.ctx,elem=null===(_ctx$path2=ctx.path)||void 0===_ctx$path2?void 0:_ctx$path2.elem;if(!elem)return;elem.removeAttr("data-snptd"),(0,_dependencies.cleanUnusedRequires)(ctx.editor)},_exports.setAccordionBehavior=function(){var _this$ctx$path12;const isDependentBehavior=this.isDependentBehavior,$target=null===(_this$ctx$path12=this.ctx.path)||void 0===_this$ctx$path12?void 0:_this$ctx$path12.elem;if(!$target)return;if(isDependentBehavior)$target.find("div.accordion-body").removeAttr("data-parent");else{const acid=$target.attr("id");$target.find("div.accordion-body").attr("data-parent","#"+acid)}},_exports.switchBoxRowsExampleAction=function(){var _this$ctx$path9;const $target=null===(_this$ctx$path9=this.ctx.path)||void 0===_this$ctx$path9?void 0:_this$ctx$path9.elem;if(!$target)return;const lang=$target.attr("data-lang")||"ca",lateral=$target.find("p.iedib-titolLateral").html(),formulacio=$target.find("div.span4.iedib-formulacio > *"),resolucio=$target.find("div.span8.iedib-resolucio > div.iedib-central > *"),newSnpt=(0,_jquery.default)('<div class="iedib-capsa iedib-capsa-gran iedib-exemple-border" data-lang="'+lang+'"><div class="iedib-lateral iedib-exemple"><p class="iedib-titolLateral">'+lateral+'</p></div><div class="iedib-formulacio-rows"></div><div class="iedib-resolucio-rows"></div></div>');newSnpt.find("div.iedib-formulacio-rows").append(formulacio),newSnpt.find("div.iedib-resolucio-rows").append(resolucio),$target.replaceWith(newSnpt)},_exports.switchBoxSimpleExampleAction=function(){var _this$ctx$path7,_this$ctx$path8,_widget$I18n2,_widget$I18n2$sol;const $target=null===(_this$ctx$path7=this.ctx.path)||void 0===_this$ctx$path7?void 0:_this$ctx$path7.elem,widget=null===(_this$ctx$path8=this.ctx.path)||void 0===_this$ctx$path8?void 0:_this$ctx$path8.widget;if(!$target||!widget)return;const lang=$target.attr("data-lang")||"ca",solLabel=(null===(_widget$I18n2=widget.I18n)||void 0===_widget$I18n2||null===(_widget$I18n2$sol=_widget$I18n2.sol)||void 0===_widget$I18n2$sol?void 0:_widget$I18n2$sol[lang])??"Solució",formulacio=$target.find("div.iedib-formulacio-rows > *").clone(),resolucio=$target.find("div.iedib-resolucio-rows >  *").clone(),lateral=$target.find("p.iedib-titolLateral").html(),newSnpt=(0,_jquery.default)('<div class="iedib-capsa iedib-capsa-gran iedib-exemple-border" data-lang="'+lang+'"><div class="iedib-lateral iedib-exemple"><p class="iedib-titolLateral">'+lateral+'</span></p></div><div class="iedib-central"><br></div></div>'),central=newSnpt.find("div.iedib-central");central.append(formulacio),0===resolucio.find("div.accordion").length&&central.append("<p><b>"+solLabel+"</b>:</p>");central.append(resolucio),$target.replaceWith(newSnpt)},_exports.toggleBootstapTableResponsiveness=function(){var _this$ctx$path17;const $target=null===(_this$ctx$path17=this.ctx.path)||void 0===_this$ctx$path17?void 0:_this$ctx$path17.elem;if(!$target)return;if($target.parent().hasClass("table-responsive"))$target.parent().replaceWith($target);else{const $div=this.ctx.jQuery('<div class="table-responsive"></div>');$target.replaceWith($div),$div.append($target)}},_exports.toggleTableFooter=function(){var _this$ctx$path16;const $target=null===(_this$ctx$path16=this.ctx.path)||void 0===_this$ctx$path16?void 0:_this$ctx$path16.elem;if(!$target)return;let foot=$target.find("tfoot");if(foot.length)foot.remove();else{const jQuery=this.ctx.jQuery;foot=jQuery("<tfoot></tfoot>");const tr2=jQuery("<tr></tr>");$target.find("tbody tr").first().find("td").each((function(){const newTd=jQuery("<td>Resum</td>"),st=jQuery(this).attr("style");newTd.attr("style",st||""),tr2.append(newTd)})),foot.append(tr2),$target.append(foot)}},_exports.toggleTableHeader=function(){var _this$ctx$path15;const $target=null===(_this$ctx$path15=this.ctx.path)||void 0===_this$ctx$path15?void 0:_this$ctx$path15.elem;if(!$target)return;let head=$target.find("thead");if(head.length)head.remove();else{const jQuery=this.ctx.jQuery;head=jQuery("<thead></thead>");const tr=jQuery("<tr></tr>");$target.find("tr").first().find("td").each((function(){const newTh=jQuery('<th role="col">Títol</th>'),st=jQuery(this).attr("style");newTh.attr("style",st||""),tr.append(newTh)})),head.append(tr),$target.prepend(head)}},_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj}}));

//# sourceMappingURL=contextactions.min.js.map