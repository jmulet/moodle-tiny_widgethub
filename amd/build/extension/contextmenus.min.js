define("tiny_widgethub/extension/contextmenus",["../extension","../util","./contextactions"],(function(_extension,_util,Action){function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}Action=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(Action);const SUPPORTED_LANGS=[{iso:"ca",title:"Català"},{iso:"es",title:"Castellà"},{iso:"en",title:"English"},{iso:"fr",title:"Francès"},{iso:"de",title:"Alemany"}],AVAILABLE_EFFECTS=[{name:"zoom",title:"Zoom"},{name:"lightbox",title:"Pantalla completa"}],SUPPORTED_SIZES=[{v:"gran",l:"Gran"},{v:"mitjana",l:"Mitjana"},{v:"petita",l:"Petita"}];(0,_extension.registerMenuItemProvider)((function(ctx){return[{name:"imageEffects",widgetKeys:["imatge"],title:"Efectes d'imatge",subMenuItems:()=>{var _ctx$path;const elem=null===(_ctx$path=ctx.path)||void 0===_ctx$path?void 0:_ctx$path.elem;return elem?elem.attr("data-snptd")?[{type:"menuitem",icon:"remove",text:"Treure",onAction:Action.removeImageEffectsAction(ctx)}]:AVAILABLE_EFFECTS.map((e=>({type:"menuitem",text:e.title,onAction:Action.addImageEffectAction(ctx,e.name)}))):""}},{name:"changeBoxLanguage",widgetKeys:["capsa-generica","capsa-exemple-cols","capsa-exemple-rows","capsa-exemple-simple","tasca-exercici"],title:"Idioma",subMenuItems:()=>{var _ctx$path2;const elem=null===(_ctx$path2=ctx.path)||void 0===_ctx$path2?void 0:_ctx$path2.elem;if(!elem)return"";const currentLang=elem.attr("data-lang")??"";return SUPPORTED_LANGS.map((_ref=>{let{iso:iso,title:title}=_ref;return{type:"menuitem",text:title,icon:iso===currentLang?"checkmark":void 0,onAction:Action.changeBoxLangAction(ctx,iso)}}))}},{name:"changeBoxSize",widgetKeys:["capsa-generica","capsa-exemple-cols","capsa-exemple-rows","capsa-exemple-simple","tasca-exercici"],title:"Mida",subMenuItems:()=>{var _ctx$path3,_ctx$path4,_findVariableByName;const elem=null===(_ctx$path3=ctx.path)||void 0===_ctx$path3?void 0:_ctx$path3.elem,widget=null===(_ctx$path4=ctx.path)||void 0===_ctx$path4?void 0:_ctx$path4.widget;if(!elem||!widget)return"";return((null===(_findVariableByName=(0,_util.findVariableByName)("mida",widget.parameters))||void 0===_findVariableByName?void 0:_findVariableByName.options)||SUPPORTED_SIZES).map((e=>({type:"menuitem",text:e.l??e,icon:elem.hasClass("iedib-capsa-"+(e.v??e))?"checkmark":void 0,onAction:Action.changeBoxSizeAction(ctx,e.v??e)})))}},{name:"changeBoxSeverity",widgetKeys:["capsa-generica"],title:"Tipus",subMenuItems:()=>{var _ctx$path5,_ctx$path6,_findVariableByName2;const elem=null===(_ctx$path5=ctx.path)||void 0===_ctx$path5?void 0:_ctx$path5.elem,widget=null===(_ctx$path6=ctx.path)||void 0===_ctx$path6?void 0:_ctx$path6.widget;if(!elem||!widget)return"";return((null===(_findVariableByName2=(0,_util.findVariableByName)("tipus",widget.parameters))||void 0===_findVariableByName2?void 0:_findVariableByName2.options)||[]).map((e=>({type:"menuitem",text:e.l??e,icon:elem.hasClass("iedib-"+(e.v??e)+"-border")?"checkmark":void 0,onAction:Action.changeBoxSeverityAction(ctx,e.v??e)})))}}]}))}));

//# sourceMappingURL=contextmenus.min.js.map