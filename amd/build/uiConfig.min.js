define("tiny_widgethub/uiConfig",["exports","./modal","core/modal_events","core/modal_factory","./util","./options"],(function(_exports,_modal,_modal_events,_modal_factory,_util,_options){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
/**
   * Tiny WidgetHub plugin.
   *
   * @module      tiny_widgethub/plugin
   * @copyright   2024 Josep Mulet Pol <pmulet@iedib.net>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.UiConfigCtrl=void 0,_modal_events=_interopRequireDefault(_modal_events),_modal_factory=_interopRequireDefault(_modal_factory);_exports.UiConfigCtrl=class{constructor(uiPickController){_defineProperty(this,"uiPickController",void 0),_defineProperty(this,"editor",void 0),_defineProperty(this,"modal",void 0),this.uiPickController=uiPickController,this.editor=this.uiPickController.editor,this.userStorage=_util.UserStorage.getInstance((0,_options.getUserId)(this.editor),(0,_options.getCourseId)(this.editor))}async handleAction(){const data={checked1:this.userStorage.getFromLocal("saveall",!1)?" checked":"",checked2:this.userStorage.getFromLocal("start.latexf",!1)?" checked":"",checked3:this.userStorage.getFromLocal("start.disablespanf",!1)?" checked":""};this.modal=await _modal_factory.default.create({type:_modal.IBConfigModal.TYPE,templateContext:data,large:!0}),this.modal.footer.find("button.btn-primary").on("click",(()=>{this.applyChanges(),this.modal.destroy(),this.uiPickController.show()})),this.modal.footer.find("button.btn-secondary").on("click",(()=>{this.modal.destroy(),this.uiPickController.show()})),this.modal.getRoot().on(_modal_events.default.hidden,(()=>{this.modal.destroy(),this.uiPickController.show()})),this.modal.show()}applyChanges(){const checked1=this.modal.body.find("#snpt-ckbx-saveall").is(":checked");this.userStorage.setToLocal("saveall",checked1,!1);const checked2=this.modal.body.find("#snpt-ckbx-startlatexf").is(":checked");this.userStorage.setToLocal("start.latexf",checked2,!1);const checked3=this.modal.body.find("#snpt-ckbx-startspanf").is(":checked");this.userStorage.setToLocal("start.disablespanf",checked3,!0)}}}));

//# sourceMappingURL=uiConfig.min.js.map