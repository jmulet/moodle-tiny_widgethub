plugin_release: '>=1.4'
key: bs-carousel
name: $string.bscarousel_name
category: bootstrap
engine: ejs
template: >
  <p><br></p> 
  <div id="<%=ID%>" data-widget="bs-carousel" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <% imgs.forEach((_, i) => { %>
        <li data-target="#<%=ID%>" data-slide-to="<%=i%>"<%= i===0 ?' class="active"' : ''%>>&nbsp;</li>
      <% }) %>
    </ol>

     <div class="carousel-inner">
      <% imgs.forEach((img, i) => { %>
        <div class="carousel-item<%= i===0 ?' active' : ''%>">
          <img src="<%=img.url%>" class="d-block w-100" alt="image <%=i+1%>">
          <% if (usecaptions) { %>
          <div class="carousel-caption d-none d-md-block">
            <h5>$string.bscarousel_slide <%=i+1%></h5>
            <p>Lorem ipsum $string.bscarousel_slide <%=i+1%>.</p>
          </div>
          <% } %>
        </div>
      <% }) %>
    </div>

    <button class="carousel-control-prev" type="button" data-target="#<%=ID%>" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true">&nbsp;</span>
      <span class="sr-only">Previous</span>
    </button>

    <button class="carousel-control-next" type="button" data-target="#<%=ID%>" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true">&nbsp;</span>
      <span class="sr-only">Next</span>
    </button>
  </div>   
  <p><br></p>
selectors: div[data-widget="bs-carousel"]
parameters:
  - __ID__
  - name: usecaptions
    title: $string.bscarousel_usecaptions
    value: true
  - name: imgs
    title: $string.bscarousel_imgs
    type: repeatable
    item_selector: .carousel-item
    min: 2
    max: 10
    fields:
      - name: url
        title: URL
        type: image
        value: https://picsum.photos/300/200?random={{i}}
        bind: attr('src', 'img')
author: Josep Mulet <pep.mulet@gmail.com>
version: 2.0.0